{% extends "base.html" %}
{% block content %}
<div style="height: 100vh; display: flex; flex-direction: column; justify-content: center">
    <div style="display: flex; flex-direction: row; justify-content: space-evenly;"> 
        <form action="{{url_for('panel.index')}}" method='get'>
            <button type="submit" class="btn btn-primary">PANEL</button>
        </form>
        <form action="{{url_for('panel.list_workers')}}" method='get'>
            <button type="submit" class="btn btn-primary">WORKER LIST</button>
        </form>
    </div>
    <div style="display: flex; justify-content: center; padding-top: 100px;">
        <div style="display: flex; flex-direction: column; justify-content: center;">
            <h3>WORKER POOL SIZE: {{ num_workers }}</h3>
            <p class="text-warning">(number of currently running instances)</p>
        </div>

    </div>
    <div style="display: flex; flex-direction:column; justify-content: center; height: 50%">
        <div style="display: flex; flex-direction:row; justify-content: space-evenly; padding: 10px;">
            <form action="{{url_for('manualscaling.create_worker')}}" method='post'>
                <button type="submit" class="btn btn-lg btn-outline-primary">CREATE A WORKER</button>
            </form>
            <form action="{{url_for('manualscaling.destroy_worker')}}" method='post'>
                <button type="submit" class="btn btn-lg btn-outline-danger">DESTROY A WORKER</button>
            </form>
        </div>
        <div id="message" style="padding: 100px">
            {% with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
                    {% for category, message in messages %}
                    <div class="alert alert-dismissible alert-{{ category }}">
                        <button type="button" class='close' data-dismiss="alert">&times;</button>
                        <p class="mb-0">{{ message }}</p>
                    </div>
                    {% endfor %}
                {% endif %}
            {% endwith %}
        </div>
    </div>
</div>
{% endblock %}